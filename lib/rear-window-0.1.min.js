Rear=function(initial_object){addEvent=function(obj,type,fn){var obj=(obj.constructor===String)?document.getElementById(obj):obj;if(obj.attachEvent){obj['e'+type+fn]=fn;obj[type+fn]=function(){obj['e'+type+fn](window.event)};obj.attachEvent('on'+type,obj[type+fn]);}else obj.addEventListener(type,fn,false);}
removeEvent=function(obj,type,fn){var obj=(obj.constructor===String)?document.getElementById(obj):obj;if(obj.detachEvent){obj.detachEvent('on'+type,obj[type+fn]);obj[type+fn]=null;}else obj.removeEventListener(type,fn,false);}
addColumn=function(v){if(typeof(v)=="string")v=eval(v);var e=document.createElement("div");addClass(e,'column');var type=realTypeOf(v);if(type=='object'){contents=columnForObject(v);}else{contents=columnForVar(v,type);}
e.appendChild(contents);return e;}
var columnForVar=function(obj,type){var div=document.createElement("div");addClass(div,'variable');var value=inspectVar(obj);div.innerHTML=['<div id="type">',type,'</div><div id="value">',value,'</div>'].join('');return div;}
var inspectVar=function(v){var type=realTypeOf(v);switch(type){case'array':var s=[];for(var i=0;i<v.length;i++){s.push(inspectVar(v[i]));}
s=s.join(',');return['[',s,']'].join('');case'string':return['"',s,'"'].join('');case'undefined':return'undefined';case'null':return'null';case'storage':return JSON.stringify(v);case'object':return JSON.stringify(v);case'audio':return JSON.stringify({autoplay:v.autoplay,controls:v.controls,loop:v.loop,preload:v.preload,src:v.src});default:return v.toString();}}
var inspectArray=function(a){}
var columnForObject=function(obj){var ul=document.createElement("ul");properties=[];var type_count={'function':0,'object':0,'array':0,'string':0,'number':0,'date':0,'regex':0,'boolean':0,'null':0,'storage':0,'audio':0,'undefined':0,'native function':0};for(var i in obj){try{var val=obj[i];}catch(e){continue;}
var type=realTypeOf(val);properties.push({name:i,type:type});type_count[type]+=1;}
properties.sort(function(a,b){var a_name=a.name.toLowerCase();var b_name=b.name.toLowerCase();if(a_name>b_name)return 1;if(b_name>a_name)return-1;return 0;});for(type in type_count){if(type_count[type]==0)continue;var li=document.createElement("li");li.className="category";li.innerHTML=['<span class="count">',type_count[type],'</span> <span>',type,'s</span>'].join('');addEvent(li,'click',itemClickEvent);ul.appendChild(li);}
for(p in properties){var li=document.createElement("li");li.innerHTML=properties[p].name;addEvent(li,'click',itemClickEvent);ul.appendChild(li);}
return ul;}
var itemClickEvent=function(){if(hasClass(this,'category')){var type='category';var category=this.getElementsByTagName("span")[1].innerHTML;category=category.replace(/s$/,'');}else{var type='variable';}
var parent=this.parentNode;var columns=rearwindow.getElementsByTagName("div");var dotPath=[];var remove_column=false;for(var i=0;i<columns.length;i++){var column=columns[i];if(remove_column){rearwindow.removeChild(column);i--;continue;}
if(column==parent.parentNode){addClass(parent.parentNode,"focus");remove_column=true;continue;}
removeClass(column,"focus");var children=column.getElementsByTagName("li");for(var j=0;j<children.length;j++){var child=children[j];if(hasClass(child,"selected")&&!hasClass(child,'category')){dotPath.push(child.innerHTML);break;}}}
var siblings=parent.getElementsByTagName("li");for(var i=0;i<siblings.length;i++)removeClass(siblings[i],"selected");addClass(this,"selected");if(type=="category"){var obj=eval(dotPath.join('.'));var mock_obj={};for(i in obj){try{var val=obj[i];if(realTypeOf(val)==category){mock_obj[i]=val;}}catch(e){}}
rearwindow.appendChild(addColumn(mock_obj));}else{dotPath.push(this.innerHTML);rearwindow.appendChild(addColumn(dotPath.join('.')));}}
var addClass=function(elem,class_name){if(!hasClass(elem,class_name)){elem.className+=(' '+class_name);}}
var removeClass=function(elem,class_name){var regex=new RegExp(class_name,"gim");elem.className=elem.className.replace(regex,'');}
var hasClass=function(elem,class_name){return!!elem.className.match(class_name);}
var realTypeOf=function(v){if(typeof(v)=='object'){if(v===null)return'null';if(v.constructor==(new Array).constructor)return'array';if(v.constructor==(new Date).constructor)return'date';if(v.constructor==(new RegExp).constructor)return'regex';if(v.constructor==(new Audio).constructor)return'audio';if(typeof(localStorage)!='undefined'&&v==localStorage)return'storage';try{if(typeof(sessionStorage)!='undefined'&&v==sessionStorage)return'storage';}catch(e){return'object';}
return'object';}
if(typeof(v)=='function'){if(v.constructor==(new RegExp).constructor)return'regex';if(v.toString().match(/\[native\scode\]/))return'native function';return'function';}
return typeof(v);}
var init=function(obj){var e=document.createElement('div');e.id='rear-window';e.innerHTML=['<div class="column focus"><ul><li class="selected">',obj,'</li></ul></div>'].join('');e.appendChild(addColumn(obj));var body=document.getElementsByTagName('body')[0];body.appendChild(e);window['rearwindow']=e;}
if(typeof(window['rearwindow'])!='undefined'){var body=document.getElementsByTagName('body')[0];body.removeChild(window['rearwindow']);}
if(typeof(initial_object)=='undefined'){initial_object='window';}
init(initial_object);}